(function($){$.fn.remainingCharacters=function(args){var target=args.target||$('<span>',{id:'rcOutput',style:'float:right;'}).insertBefore(this);var maxChars=args.maxChars;var hideTarget=args.hideTarget||false;var current=this.val()||'';var fadeTarget;var fadeSpeed;if(args.fadeTarget){fadeTarget=args.fadeTarget.fade||false;fadeSpeed=args.fadeTarget.speed||'fast'}if(hideTarget){$(target).hide()}$(target).html((maxChars-current.length)+' characters remaining.');this.keyup(function(){$(target).html((maxChars-this.value.length)+' characters remaining.')}).keydown(function(e){if(this.value.length>(maxChars-1)){if(((e.keyCode>=48)&&(e.keyCode<=111))||((e.keyCode>=186)&&(e.keyCode<=222))||e.keyCode==32||((e.keyCode==13)&&(this.tagName=='TEXTAREA'))){return false}}return true}).focus(function(){if(fadeTarget){$(target).fadeIn(fadeSpeed);$(target).html((maxChars-this.value.length)+' characters remaining.')}else{$(target).show()}}).blur(function(){if(hideTarget){if(fadeTarget){$(target).fadeOut(fadeSpeed)}else{$(target).hide()}}});return this}})(jQuery);